# Site Index Source Policy (M132-C002)

`site/index.md` is generated output. Manual edits are unsupported.

## Generated-Only Policy

- Canonical output: `site/index.md`
- Canonical generator: `python scripts/build_site_index.py`
- Canonical drift check: `python scripts/build_site_index.py --check-contract`
- CI must fail when generated output drifts from canonical inputs.

## Canonical Inputs

Generation input ownership is deterministic and ordered:

1. `spec/TABLE_OF_CONTENTS.md` defines the ordered include list.
2. Markdown files listed in `spec/TABLE_OF_CONTENTS.md` are stitched in that exact order.
3. `README.md` inputs are excluded from stitched output.

## Ownership

- Source of truth for ordering: Spec maintainers updating `spec/TABLE_OF_CONTENTS.md`.
- Source of truth for render behavior and policy checks: `scripts/build_site_index.py`.
- Source of truth for generated bytes: re-run generator and commit updated `site/index.md`.

## Manual Edit Policy

If `site/index.md` was edited directly, treat it as drift:

1. Re-run `python scripts/build_site_index.py`.
2. Review resulting diff against intended source edits under `spec/`.
3. Commit generated output after source-of-truth inputs are correct.
